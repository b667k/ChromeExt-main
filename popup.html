<!-- popup.html -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Portal ↔ ClaimCenter</title>
    <style>
      :root{
        --bg:#0f1115;
        --text:#e7edf5;
        --muted:#9aa4b2;
        --border:rgba(255,255,255,.10);
        --accent:#3b82f6;
        --accent2:#2563eb;
        --shadow: 0 10px 30px rgba(0,0,0,.45);
        --radius:14px;
      }

      * { box-sizing: border-box; }
      body{
        margin:0;
        width: 390px;
        padding: 12px;
        font: 13px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        background: radial-gradient(1200px 600px at 15% -10%, rgba(59,130,246,.25), transparent 50%),
                    radial-gradient(900px 500px at 90% 0%, rgba(34,197,94,.18), transparent 55%),
                    var(--bg);
        color: var(--text);
      }

      .card{
        background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        overflow: hidden;
      }

      .header{
        padding: 12px 12px 10px;
        display:flex;
        align-items:flex-start;
        justify-content:space-between;
        gap:12px;
        border-bottom: 1px solid var(--border);
        background: rgba(0,0,0,.10);
      }

      .titleWrap{ display:flex; flex-direction:column; gap:4px; min-width:0; }
      .title{ font-size: 15px; font-weight: 900; letter-spacing: .2px; margin:0; }
      .byline{
        font-size: 12px; color: var(--muted); margin:0;
        white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
      }
      .pill{
        margin-top: 1px;
        flex: 0 0 auto;
        font-size: 11px;
        padding: 4px 8px;
        border-radius: 999px;
        border: 1px solid var(--border);
        color: var(--muted);
        background: rgba(255,255,255,.04);
      }

      .tabs{
        display:flex;
        gap:8px;
        padding: 10px 12px;
        border-bottom: 1px solid var(--border);
        background: rgba(0,0,0,.06);
      }
      .tabBtn{
        flex:1;
        border: 1px solid var(--border);
        background: rgba(255,255,255,.04);
        color: var(--text);
        border-radius: 999px;
        padding: 9px 10px;
        font-weight: 900;
        cursor:pointer;
        display:flex;
        align-items:center;
        justify-content:center;
        gap:8px;
      }
      .tabBtn.active{
        border-color: rgba(59,130,246,.55);
        background: linear-gradient(180deg, rgba(59,130,246,.30), rgba(37,99,235,.22));
      }
      .tabIcon{
        width: 18px; height: 18px; display:inline-block;
        border-radius: 6px;
        background: rgba(255,255,255,.06);
        border: 1px solid var(--border);
      }

      .content{ padding: 12px; }
      .panel{ display:none; }
      .panel.active{ display:block; }

      .sectionTitle{
        font-size: 13px;
        font-weight: 900;
        margin: 2px 0 6px;
      }
      .sectionHint{
        margin: 0 0 10px;
        font-size: 12px;
        color: var(--muted);
      }

      .optionGroup{
        background: rgba(0,0,0,.16);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 10px;
      }
      .radioRow{
        display:flex;
        align-items:flex-start;
        gap:10px;
        padding: 10px;
        border-radius: 12px;
        cursor:pointer;
      }
      .radioRow:hover{ background: rgba(255,255,255,.03); }
      .radioRow input{
        margin-top: 2px;
        width: 16px;
        height: 16px;
        accent-color: var(--accent);
      }
      .radioText{ display:flex; flex-direction:column; gap:3px; min-width:0; }
      .radioTitle{ font-weight: 900; margin:0; }
      .radioDesc{ margin:0; font-size: 12px; color: var(--muted); }

      label{
        display:block;
        margin: 10px 0 6px;
        font-weight: 900;
        color: rgba(231,237,245,.92);
      }
      textarea, select{
        width:100%;
        padding: 10px 10px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: rgba(0,0,0,.20);
        color: var(--text);
        outline:none;
      }
      textarea{ min-height: 110px; resize: vertical; }

      .checkbox{
        margin-top: 10px;
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:10px;
        padding: 10px 10px;
        border: 1px solid var(--border);
        border-radius: 12px;
        background: rgba(0,0,0,.16);
      }
      .checkboxLeft{
        display:flex;
        gap:10px;
        align-items:center;
        min-width:0;
      }
      .checkbox input{
        width: 16px;
        height: 16px;
        accent-color: var(--accent);
      }
      .checkboxTitle{ font-weight: 900; font-size: 12px; margin:0; }
      .checkboxSub{
        font-size: 12px;
        color: var(--muted);
        margin: 2px 0 0;
        white-space:nowrap;
        overflow:hidden;
        text-overflow:ellipsis;
      }
      .toggleHint{
        font-size: 11px;
        color: var(--muted);
        border: 1px solid var(--border);
        background: rgba(255,255,255,.03);
        padding: 4px 8px;
        border-radius: 999px;
        flex: 0 0 auto;
      }

      .actions{
        display:flex;
        gap:10px;
        margin-top: 12px;
      }
      button{
        flex:1;
        border: 0;
        border-radius: 12px;
        padding: 10px 10px;
        cursor:pointer;
        font-weight: 900;
        letter-spacing:.2px;
      }
      button.primary{
        background: linear-gradient(180deg, var(--accent), var(--accent2));
        color: white;
        box-shadow: 0 10px 20px rgba(37,99,235,.22);
      }
      button.secondary{
        background: rgba(255,255,255,.06);
        color: var(--text);
        border: 1px solid var(--border);
      }

      .status{
        margin-top: 10px;
        font-size: 12px;
        padding: 10px 10px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: rgba(0,0,0,.16);
        color: var(--text);
      }
      .status.ok{
        border-color: rgba(34,197,94,.35);
        background: rgba(34,197,94,.10);
      }
      .status.err{
        border-color: rgba(239,68,68,.40);
        background: rgba(239,68,68,.10);
      }
      .status:empty{ display:none; }

      .footer{
        padding: 10px 12px;
        border-top: 1px solid var(--border);
        background: rgba(0,0,0,.08);
        color: var(--muted);
        font-size: 12px;
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:10px;
      }
      .footer strong{ color: var(--text); }
    </style>
  </head>

  <body>
    <div class="card">
      <div class="header">
        <div class="titleWrap">
          <h1 class="title">Portal ↔ ClaimCenter</h1>
          <p class="byline">Automation helper • built by <strong>Blaine Oler</strong></p>
        </div>
        <div class="pill">v<span id="extVersion">—</span></div>
      </div>

      <div class="tabs">
        <button class="tabBtn active" id="tabSettings" type="button" aria-controls="panelSettings" aria-selected="true">
          <span class="tabIcon" aria-hidden="true"></span> Settings
        </button>
        <button class="tabBtn" id="tabFeedback" type="button" aria-controls="panelFeedback" aria-selected="false">
          <span class="tabIcon" aria-hidden="true"></span> Feedback
        </button>
      </div>

      <div class="content">
        <!-- SETTINGS -->
        <div class="panel active" id="panelSettings" role="region" aria-label="Settings">
          <div class="sectionTitle">Automation depth</div>
          <p class="sectionHint">
            Choose how far the automation runs. (UI only for now — we’ll wire behavior later.)
          </p>

          <div class="optionGroup" role="radiogroup" aria-label="Automation depth">
            <label class="radioRow" for="mode_full">
              <input type="radio" name="runMode" id="mode_full" value="full" checked />
              <div class="radioText">
                <p class="radioTitle">Run claim + click into Loss Details</p>
                <p class="radioDesc">Full flow — open ClaimCenter, run the claim search, then continue.</p>
              </div>
            </label>

            <label class="radioRow" for="mode_claim_only">
              <input type="radio" name="runMode" id="mode_claim_only" value="claim_only" />
              <div class="radioText">
                <p class="radioTitle">Run claim only</p>
                <p class="radioDesc">Open ClaimCenter and run the claim search, then stop.</p>
              </div>
            </label>

            <label class="radioRow" for="mode_copy_only">
              <input type="radio" name="runMode" id="mode_copy_only" value="copy_only" />
              <div class="radioText">
                <p class="radioTitle">Copy claim number only</p>
                <p class="radioDesc">Only copy the claim number (no navigation).</p>
              </div>
            </label>
          </div>
        </div>

        <!-- FEEDBACK -->
        <div class="panel" id="panelFeedback" role="region" aria-label="Feedback">
          <div class="sectionTitle">Send feedback</div>
          <p class="sectionHint">
            This opens an Outlook email draft to Blaine. Keep it simple — no need to be technical.
          </p>

          <label for="fbType">Type</label>
          <select id="fbType">
            <option value="issue">Issue</option>
            <option value="suggestion">Suggestion</option>
            <option value="question">Question</option>
            <option value="other">Other</option>
          </select>

          <label for="fbMessage">Message</label>
          <textarea id="fbMessage" placeholder="What were you trying to do, and what happened?"></textarea>

          <div class="checkbox">
            <div class="checkboxLeft">
              <input type="checkbox" id="fbIncludeUrl" checked />
              <div style="min-width:0;">
                <p class="checkboxTitle">Include page link</p>
                <p class="checkboxSub">Helps Blaine understand where this happened</p>
              </div>
            </div>
            <div class="toggleHint">optional</div>
          </div>

          <div class="actions">
            <button class="secondary" id="fbClear" type="button">Clear</button>
            <button class="primary" id="fbSend" type="button">Email Blaine</button>
          </div>

          <div id="status" class="status" aria-live="polite"></div>
        </div>
      </div>

      <div class="footer">
        <span>Tip: choose a mode that fits your workflow.</span>
        <span><strong>Feedback</strong> goes to Blaine</span>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
